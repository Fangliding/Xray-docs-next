import{o as n,c as s,F as a,a as e,e as t}from"./app.7ace5932.js";const l={},o=e("h1",{id:"chapter-5-website-building",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#chapter-5-website-building","aria-hidden":"true"},"#"),t(" Chapter 5: Website Building")],-1),i=e("h2",{id:"_5-1-why-should-you-create-a-website",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_5-1-why-should-you-create-a-website","aria-hidden":"true"},"#"),t(" 5.1 Why should you create a website?")],-1),c=e("p",null,"Some newcomers may be confused: why do I need to build a website for securing an open digital environment? I don't know how to code! Isn't it very complicated?",-1),u=e("p",null,"First, let's answer the first question. The reasons for building a website are:",-1),p=e("ol",null,[e("li",null,"Apply for a legitimate TLS certificate (very important)"),e("li",null,"Provide reasonable fallback to prevent active probing attacks and improve security"),e("li",null,"Set up a camouflage site (such as a blog, private cloud storage, multimedia site, game site, etc.) with a reasonable frontend when directly accessed, making traffic usage look more legitimate.")],-1),r=e("p",null,"Now let's answer the second question:",-1),d=e("ol",null,[e("li",null,[t('As a demonstration, this article uses only the simplest "single-file HTML page + Nginx" setup to achieve the above objectives, so it is '),e("strong",null,"very easy"),t(".")]),e("li",null,"This website can not only be used for camouflage but also for real development and growth. The complexity depends entirely on you."),e("li",null,'For the goals of "camouflage" and "website operation", uniqueness and personalization are needed. Students who need this can search and learn by themselves. This content has completely deviated from scientific online access, so this article will not go into depth.')],-1),g=e("h2",{id:"_5-2-log-in-to-vps-install-and-run-nginx",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_5-2-log-in-to-vps-install-and-run-nginx","aria-hidden":"true"},"#"),t(" 5.2 Log in to VPS, install and run Nginx")],-1),h=e("ol",null,[e("li",null,[e("p",null,"Here we use commands that have been explained in detail before, so they won't be repeated. If you don't understand, please refer to the previous chapters."),e("div",{class:"language-bash ext-sh line-numbers-mode"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"sudo"),t(),e("span",{class:"token function"},"apt"),t(" update "),e("span",{class:"token operator"},"&&"),t(),e("span",{class:"token function"},"sudo"),t(),e("span",{class:"token function"},"apt"),t(),e("span",{class:"token function"},"install"),t(" nginx\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])])]),e("li",null,[e("p",null,[t("After completion, Nginx will automatically run. Open the browser on Windows and enter "),e("code",null,"http://100.200.300.400:80"),t(". If you see the interface shown below, it means Nginx is running normally.")]),e("p",null,[e("img",{src:"/Xray-docs-next/assets/ch05-img01-nginx-default-running.24698092.png",alt:"Nginx default interface"})])])],-1),m=e("h2",{id:"_5-3-create-the-simplest-web-page",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_5-3-create-the-simplest-web-page","aria-hidden":"true"},"#"),t(" 5.3 Create the simplest web page")],-1),k=e("ol",null,[e("li",null,[e("p",null,"Basic Linux commands for beginners:"),e("table",null,[e("thead",null,[e("tr",null,[e("th",{style:{"text-align":"center"}},"No."),e("th",{style:{"text-align":"center"}},"Command Name"),e("th",{style:{"text-align":"center"}},"Command Description")])]),e("tbody",null,[e("tr",null,[e("td",{style:{"text-align":"center"}},[e("code",null,"cmd-10")]),e("td",{style:{"text-align":"center"}},[e("code",null,"mkdir")]),e("td",{style:{"text-align":"center"}},"Create a new folder")]),e("tr",null,[e("td",{style:{"text-align":"center"}},[e("code",null,"cmd-11")]),e("td",{style:{"text-align":"center"}},[e("code",null,"systemctl reload")]),e("td",{style:{"text-align":"center"}},"Reload a specific service")])])])]),e("li",null,[e("p",null,"Basic Linux configuration files for beginners:"),e("table",null,[e("thead",null,[e("tr",null,[e("th",{style:{"text-align":"center"}},"No."),e("th",{style:{"text-align":"center"}},"Configuration File Location"),e("th",{style:{"text-align":"center"}},"File Description")])]),e("tbody",null,[e("tr",null,[e("td",{style:{"text-align":"center"}},[e("code",null,"conf-02")]),e("td",{style:{"text-align":"center"}},[e("code",null,"/etc/nginx/nginx.conf")]),e("td",{style:{"text-align":"center"}},"Nginx program settings")])])])]),e("li",null,[e("p",null,[t("Create a dedicated folder "),e("code",null,"/home/vpsadmin/www/webpage/"),t(" for the website and create the web page file "),e("code",null,"index.html")]),e("div",{class:"language-bash ext-sh line-numbers-mode"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"mkdir"),t(" -p ~/www/webpage/ "),e("span",{class:"token operator"},"&&"),t(),e("span",{class:"token function"},"nano"),t(" ~/www/webpage/index.html\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])])])],-1),b=e("div",{class:"custom-container warning"},[e("p",{class:"custom-container-title"},"Warning"),e("p",null,[t("If you are not using the username "),e("code",null,"vpsadmin"),t(', please be sure to understand the meaning of the "~" symbol in this command (this is related to Step 5 content):')]),e("ul",null,[e("li",null,[t("If it is a "),e("strong",null,"non-root user"),t(', "~" is equivalent to '),e("code",null,"/home/username")]),e("li",null,[t("If it is a "),e("strong",null,"root user"),t(', "~" is equivalent to '),e("code",null,"/root")])])],-1),f=e("ol",{start:"4"},[e("li",null,[e("p",null,[t("Copy the entire content below, save ("),e("code",null,"ctrl+o"),t(") and exit ("),e("code",null,"ctrl+x"),t(").")]),e("div",{class:"language-html ext-html line-numbers-mode"},[e("pre",{class:"language-html"},[e("code",null,[e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("html")]),t(),e("span",{class:"token attr-name"},"lang"),e("span",{class:"token attr-value"},[e("span",{class:"token punctuation attr-equals"},"="),e("span",{class:"token punctuation"},'"'),e("span",{class:"token punctuation"},'"')]),e("span",{class:"token punctuation"},">")]),t("\n  "),e("span",{class:"token comment"},"\x3c!-- Text between angle brackets is an HTML tag and is not displayed.\n        Most tags, such as the HTML and /HTML tags that surround the contents of\n        a page, come in pairs; some tags, like HR, for a horizontal rule, stand\n        alone. Comments, such as the text you're reading, are not displayed when\n        the Web page is shown. The information between the HEAD and /HEAD tags is\n        not displayed. The information between the BODY and /BODY tags is displayed.--\x3e"),t("\n  "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("head")]),e("span",{class:"token punctuation"},">")]),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("title")]),e("span",{class:"token punctuation"},">")]),t("Enter a title, displayed at the top of the window."),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("title")]),e("span",{class:"token punctuation"},">")]),t("\n  "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("head")]),e("span",{class:"token punctuation"},">")]),t("\n  "),e("span",{class:"token comment"},"\x3c!-- The information between the BODY and /BODY tags is displayed.--\x3e"),t("\n  "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("body")]),e("span",{class:"token punctuation"},">")]),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("h1")]),e("span",{class:"token punctuation"},">")]),t("Enter the main heading, usually the same as the title."),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("h1")]),e("span",{class:"token punctuation"},">")]),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("p")]),e("span",{class:"token punctuation"},">")]),t("Be "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("b")]),e("span",{class:"token punctuation"},">")]),t("bold"),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("b")]),e("span",{class:"token punctuation"},">")]),t(" in stating your key points. Put them in a list:"),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("p")]),e("span",{class:"token punctuation"},">")]),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("ul")]),e("span",{class:"token punctuation"},">")]),t("\n      "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("li")]),e("span",{class:"token punctuation"},">")]),t("The first item in your list"),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("li")]),e("span",{class:"token punctuation"},">")]),t("\n      "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("li")]),e("span",{class:"token punctuation"},">")]),t("The second item; "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("i")]),e("span",{class:"token punctuation"},">")]),t("italicize"),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("i")]),e("span",{class:"token punctuation"},">")]),t(" key words"),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("li")]),e("span",{class:"token punctuation"},">")]),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("ul")]),e("span",{class:"token punctuation"},">")]),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("p")]),e("span",{class:"token punctuation"},">")]),t("Improve your image by including an image."),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("p")]),e("span",{class:"token punctuation"},">")]),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("p")]),e("span",{class:"token punctuation"},">")]),t("\n      "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("img")]),t(),e("span",{class:"token attr-name"},"src"),e("span",{class:"token attr-value"},[e("span",{class:"token punctuation attr-equals"},"="),e("span",{class:"token punctuation"},'"'),t("https://i.imgur.com/SEBww.jpg"),e("span",{class:"token punctuation"},'"')]),t(),e("span",{class:"token attr-name"},"alt"),e("span",{class:"token attr-value"},[e("span",{class:"token punctuation attr-equals"},"="),e("span",{class:"token punctuation"},'"'),t("A Great HTML Resource"),e("span",{class:"token punctuation"},'"')]),t(),e("span",{class:"token punctuation"},"/>")]),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("p")]),e("span",{class:"token punctuation"},">")]),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("p")]),e("span",{class:"token punctuation"},">")]),t("\n      Add a link to your favorite\n      "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("a")]),t(),e("span",{class:"token attr-name"},"href"),e("span",{class:"token attr-value"},[e("span",{class:"token punctuation attr-equals"},"="),e("span",{class:"token punctuation"},'"'),t("https://www.dummies.com/"),e("span",{class:"token punctuation"},'"')]),e("span",{class:"token punctuation"},">")]),t("Web site"),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("a")]),e("span",{class:"token punctuation"},">")]),t(". Break up your page\n      with a horizontal rule or two.\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("p")]),e("span",{class:"token punctuation"},">")]),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("hr")]),t(),e("span",{class:"token punctuation"},"/>")]),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("p")]),e("span",{class:"token punctuation"},">")]),t("\n      Finally, link to "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("a")]),t(),e("span",{class:"token attr-name"},"href"),e("span",{class:"token attr-value"},[e("span",{class:"token punctuation attr-equals"},"="),e("span",{class:"token punctuation"},'"'),t("page2.html"),e("span",{class:"token punctuation"},'"')]),e("span",{class:"token punctuation"},">")]),t("another page"),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("a")]),e("span",{class:"token punctuation"},">")]),t(" in your own Web\n      site.\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("p")]),e("span",{class:"token punctuation"},">")]),t("\n    "),e("span",{class:"token comment"},"\x3c!-- And add a copyright notice.--\x3e"),t("\n    "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("p")]),e("span",{class:"token punctuation"},">")]),t("© Wiley Publishing, 2011"),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("p")]),e("span",{class:"token punctuation"},">")]),t("\n  "),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("body")]),e("span",{class:"token punctuation"},">")]),t("\n"),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("html")]),e("span",{class:"token punctuation"},">")]),t("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br"),e("span",{class:"line-number"},"24"),e("br"),e("span",{class:"line-number"},"25"),e("br"),e("span",{class:"line-number"},"26"),e("br"),e("span",{class:"line-number"},"27"),e("br"),e("span",{class:"line-number"},"28"),e("br"),e("span",{class:"line-number"},"29"),e("br"),e("span",{class:"line-number"},"30"),e("br"),e("span",{class:"line-number"},"31"),e("br"),e("span",{class:"line-number"},"32"),e("br"),e("span",{class:"line-number"},"33"),e("br"),e("span",{class:"line-number"},"34"),e("br"),e("span",{class:"line-number"},"35"),e("br"),e("span",{class:"line-number"},"36"),e("br")])])]),e("li",null,[e("p",null,[t("Modify "),e("code",null,"nginx.conf"),t(" and restart the "),e("code",null,"Nginx"),t(" service, directing the http access on port 80 to the newly created "),e("code",null,"html"),t(" page.")]),e("ol",null,[e("li",null,[e("p",null,[t("Modify "),e("code",null,"nginx.conf"),t(".")]),e("div",{class:"language-bash ext-sh line-numbers-mode"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"sudo"),t(),e("span",{class:"token function"},"nano"),t(" /etc/nginx/nginx.conf\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])])]),e("li",null,[e("p",null,[t("Add the following content inside"),e("code",null,"http{}"),t(", then save ("),e("code",null,"ctrl+o"),t(") and exit ("),e("code",null,"ctrl+x"),t("). (Remember to replace the domain name with the real domain name you prepared earlier, including the subdomain)")]),e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,"        server {\n                listen 80;\n                server_name subdomain.your_domain.com;\n                root /home/vpsadmin/www/webpage;\n                index index.html;\n        }\n")]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br")])]),e("div",{class:"custom-container warning"},[e("p",{class:"custom-container-title"},"Be extra careful!"),e("p",null,[t("As mentioned in Step 3 of section 5.3, make sure to change "),e("code",null,"/home/vpsadmin/www/webpage"),t(" to your actual file path.")])])]),e("li",null,[e("p",null,[t("Make "),e("code",null,"nginx"),t(" reload the configuration to take effect.")]),e("div",{class:"language-bash ext-sh line-numbers-mode"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"sudo"),t(" systemctl reload nginx\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])])]),e("li",null,[e("p",null,"The complete setup process is as follows:"),e("p",null,[e("img",{src:"/Xray-docs-next/assets/ch05-img02-nginx-conf-full.d3e1011d.gif",alt:"Web page settings demonstration"})])]),e("li",null,[e("p",null,[t("Now, if you visit "),e("code",null,"http://subdomain.your_domain.com"),t(", you should see this page, indicating success:")]),e("p",null,[e("img",{src:"/Xray-docs-next/assets/ch05-img03-nginx-http-running.46c296a3.png",alt:"http web page success"})])])])])],-1),w=e("h2",{id:"_5-4-common-error-explanations",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_5-4-common-error-explanations","aria-hidden":"true"},"#"),t(" 5.4 Common error explanations")],-1),y=e("p",null,"First of all, if you follow the instructions in the article step by step and are careful enough, you will definitely not encounter any errors. So, I don't intend to change how this article is written.",-1),x=e("p",null,[t("Then why do some students still get stuck at this step, and the web page just won't open? There are basically two words: "),e("strong",null,"carelessness"),t(". Because there are only two possible issues with the configuration here, and there are only two reasons for them.")],-1),v=e("p",null,"I. Two types of issues:",-1),T=e("ul",null,[e("li",null,[t("In "),e("code",null,"nginx.conf"),t(", the "),e("code",null,"/home/vpsadmin/www/webpage"),t(" does not match the actual file path; "),e("code",null,"nginx"),t(" cannot find the file")]),e("li",null,[t("The path is correct, but "),e("code",null,"nginx"),t(" doesn't have permission to access it")])],-1),I=e("p",null,"II. Two reasons:",-1),B=e("ul",null,[e("li",null,[t("Use a "),e("strong",null,"non-root user"),t(" but still directly copy the commands in the text without modification. (This is basically like copying the name of another student when copying answers)")]),e("li",null,[t("Insist on using a "),e("strong",null,"root user")])],-1),S=e("p",null,"If you encounter any errors, please carefully review the explanations in Steps 3 and 5-2 of Section 5.3.",-1),_=e("div",{class:"custom-container warning"},[e("p",{class:"custom-container-title"},"Warning"),e("p",null,[t("In the early stages of this article, a lot of space has been devoted to explaining the importance of using a "),e("strong",null,"non-root user"),t(" for security, and the entire article is written based on this premise. So, issues caused by using a "),e("strong",null,"root user"),t(" are not within the scope of this article.")]),e("p",null,[t("But I believe that students who persist in using the "),e("code",null,"root"),t(" user should have their own opinions, strong hands-on ability, or have a certain foundation in Linux. I have already explained the crux of the problem, and I believe you can solve it on your own.")]),e("h2",{id:"_5-5-your-progress",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_5-5-your-progress","aria-hidden":"true"},"#"),t(" 5.5 Your Progress")]),e("p",null,"So far, Xray's first infrastructure [webpage] has been established. Let's now move on to the second infrastructure [certificate]!"),e("blockquote",null,[e("p",null,"⬛⬛⬛⬛⬛⬜⬜⬜ 62.5%")])],-1);l.render=function(e,t){return n(),s(a,null,[o,i,c,u,p,r,d,g,h,m,k,b,f,w,y,x,v,T,I,B,S,_],64)};export default l;
