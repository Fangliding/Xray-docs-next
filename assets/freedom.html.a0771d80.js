import{r as o,o as e,c as n,a as s,b as t,w as c,F as a,d as u,e as l}from"./app.6590e061.js";const p={},r=u('<h1 id="freedom" tabindex="-1"><a class="header-anchor" href="#freedom" aria-hidden="true">#</a> Freedom</h1><p>Freedom 是一个出站协议，可以用来向任意网络发送（正常的） TCP 或 UDP 数据。</p><h2 id="outboundconfigurationobject" tabindex="-1"><a class="header-anchor" href="#outboundconfigurationobject" aria-hidden="true">#</a> OutboundConfigurationObject</h2><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;domainStrategy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AsIs&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;redirect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:3366&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;userLevel&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;fragment&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;packets&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tlshello&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;length&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100-200&quot;</span><span class="token punctuation">,</span>\n    <span class="token property">&quot;interval&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10-20&quot;</span> <span class="token comment">// 单位ms</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p><code>domainStrategy</code>: &quot;AsIs&quot;<br> &quot;UseIP&quot; | &quot;UseIPv6v4&quot; | &quot;UseIPv6&quot; | &quot;UseIPv4v6&quot; | &quot;UseIPv4&quot;<br> &quot;ForceIP&quot; | &quot;ForceIPv6v4&quot; | &quot;ForceIPv6&quot; | &quot;ForceIPv4v6&quot; | &quot;ForceIPv4&quot;</p></blockquote><p>Xray-core v1.8.6 新增功能：<br><code>&quot;UseIPv6v4&quot;</code> | <code>&quot;UseIPv4v6&quot;</code><br><code>&quot;ForceIP&quot;</code> | <code>&quot;ForceIPv6v4&quot;</code> | <code>&quot;ForceIPv6&quot;</code> | <code>&quot;ForceIPv4v6&quot;</code> | <code>&quot;ForceIPv4&quot;</code></p><p>若不写此参数，或留空，默认值 <code>&quot;AsIs&quot;</code>。</p><p>当目标地址为域名时，配置相应的值，Freedom 的行为模式如下：</p>',8),d=s("li",null,[s("code",null,'"AsIs"'),l("：Freedom 使用系统 DNS 同时查询 A 和 AAAA 记录获取 IP，向此域名发出连接。IPv4 或 IPv6 优先级由系统控制。")],-1),q=s("code",null,'"UseIP"',-1),i=l("、"),v=s("code",null,'"UseIPv6v4"',-1),I=l("、"),P=s("code",null,'"UseIPv6"',-1),b=l("、"),m=s("code",null,'"UseIPv4v6"',-1),k=l("、"),F=s("code",null,'"UseIPv4"',-1),g=l("：使用 Xray-core "),h=l("内置 DNS 服务器"),f=l(" 查询获取 IP，向此域名发出连接。"),y=s("code",null,'"ForceIP"',-1),U=l("、"),A=s("code",null,'"ForceIPv6v4"',-1),j=l("、"),T=s("code",null,'"ForceIPv6"',-1),S=l("、"),_=s("code",null,'"ForceIPv4v6"',-1),x=l("、"),D=s("code",null,'"ForceIPv4"',-1),L=l("：使用 Xray-core "),N=l("内置 DNS 服务器"),C=l(" 查询获取 IP，向此域名发出连接。"),X=s("li",null,[l("当使用 "),s("code",null,'"UseIP"'),l(" 系列值 或 "),s("code",null,'"ForceIP"'),l(" 系列值时，若没写 "),s("code",null,'"dns"'),l(" 配置，使用系统 DNS 同时查询 A 和 AAAA 记录获取 IP，向此域名发出连接。")],-1),O={class:"custom-container tip"},w=s("p",{class:"custom-container-title"},"TIP 1",-1),R=l("当使用 "),z=s("code",null,'"UseIP"',-1),B=l("、"),E=s("code",null,'"ForceIP"',-1),G=l(" 模式时，并且 "),H=l("出站连接配置"),J=l(" 中指定了 "),K=s("code",null,"sendThrough",-1),M=l(" 时，Freedom 会根据 "),Q=s("code",null,"sendThrough",-1),V=l(" 的值自动判断所需的 IP 类型，IPv4 或 IPv6。"),W=u('<div class="custom-container tip"><p class="custom-container-title">TIP 2</p><p>当使用 <code>&quot;UseIPv4&quot;</code>、<code>&quot;UseIPv6&quot;</code> 或 <code>&quot;ForceIPv4&quot;</code>、<code>&quot;ForceIPv6&quot;</code> 模式时，Freedom 会只使用对应的 IPv4 或 IPv6 地址。当 <code>sendThrough</code> 指定了不匹配的本地地址时，将导致连接失败。</p></div><div class="custom-container tip"><p class="custom-container-title">TIP 3</p><p><code>&quot;UseIPv4&quot;</code>、<code>&quot;UseIPv6&quot;</code> 和 <code>&quot;ForceIPv4&quot;</code>、<code>&quot;ForceIPv6&quot;</code> 的区别是，前者解析失败了会走 AsIs，后者解析失败了会被 block。这样整个 <code>domainStrategy</code> 都更加灵活了。</p></div><blockquote><p><code>redirect</code>: address_port</p></blockquote><p>Freedom 会强制将所有数据发送到指定地址（而不是 inbound 指定的地址）。</p><p>其值为一个字符串，样例：<code>&quot;127.0.0.1:80&quot;</code>，<code>&quot;:1234&quot;</code>。</p><p>当地址不指定时，如 <code>&quot;:443&quot;</code>，Freedom 不会修改原先的目标地址。 当端口为 <code>0</code> 时，如 <code>&quot;xray.com: 0&quot;</code>，Freedom 不会修改原先的端口。</p><blockquote><p><code>userLevel</code>: number</p></blockquote>',7),Y=l("用户等级，连接会使用这个用户等级对应的 "),Z=l("本地策略"),$=l("。"),oo=l("userLevel 的值, 对应 "),eo=l("policy"),no=l(" 中 "),so=s("code",null,"level",-1),to=l(" 的值。 如不指定, 默认为 0。"),co=s("blockquote",null,[s("p",null,[s("code",null,"fragment"),l(": map")])],-1),ao=s("p",null,"一些键值对配置项，用于控制发出的 TCP 分片，在某些情况下可以欺骗审查系统，比如绕过 SNI 黑名单。",-1),uo=s("p",null,[s("code",null,'"packets"'),l('：支持两种分片方式 "1-3" 是 TCP 的流切片，应用于客户端第 1 至第 3 次写数据。"tlshello" 是 TLS 握手包切片。')],-1),lo=s("p",null,[s("code",null,'"length"'),l("：分片包长 (byte)")],-1),po=s("p",null,[s("code",null,'"interval"'),l("：分片间隔（ms）")],-1);p.render=function(u,l){const p=o("RouterLink");return e(),n(a,null,[r,s("ul",null,[d,s("li",null,[q,i,v,I,P,b,m,k,F,g,t(p,{to:"/config/dns.html"},{default:c((()=>[h])),_:1}),f]),s("li",null,[y,U,A,j,T,S,_,x,D,L,t(p,{to:"/config/dns.html"},{default:c((()=>[N])),_:1}),C]),X]),s("div",O,[w,s("p",null,[R,z,B,E,G,t(p,{to:"/config/outbound.html#outboundobject"},{default:c((()=>[H])),_:1}),J,K,M,Q,V])]),W,s("p",null,[Y,t(p,{to:"/config/policy.html#levelpolicyobject"},{default:c((()=>[Z])),_:1}),$]),s("p",null,[oo,t(p,{to:"/config/policy.html#policyobject"},{default:c((()=>[eo])),_:1}),no,so,to]),co,ao,uo,lo,po],64)};export default p;
