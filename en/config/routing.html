<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.2">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/logo.png"><title>Routing | Project X</title><meta name="description" content="Official document of Xray">
    <link rel="preload" href="/Xray-docs-next/assets/style--_jpjXCu.css" as="style"><link rel="stylesheet" href="/Xray-docs-next/assets/style--_jpjXCu.css">
    <link rel="modulepreload" href="/Xray-docs-next/assets/app-Y0A88DIy.js"><link rel="modulepreload" href="/Xray-docs-next/assets/routing.html-3l5EZXY0.js"><link rel="modulepreload" href="/Xray-docs-next/assets/routing.html-gMcV9QF8.js">
    <link rel="prefetch" href="/Xray-docs-next/assets/index.html-p2c5C4AU.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/news.html-pwjcoGoO.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-XFyzJ1xl.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/api.html-WGzp5ZHY.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dns.html-M7PqPYo9.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fakedns.html-wHw6FjrC.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/inbound.html-moDGVb2O.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/log.html-e7hnT2bq.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/metrics.html-EUbXlE4r.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/outbound.html-wShrwo1r.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/policy.html-5wXUoyYU.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/reverse.html-iCYMdXOv.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/routing.html-z5FZ8_MJ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/stats.html-sE2S72lW.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/transport.html-L4NdgUia.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-z9NWHqlp.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-E6Im5Z2U.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/command.html-erDnb8nR.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/config.html-aUjThaBl.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/document.html-T74UyKyv.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/install.html-HJ0OvsaV.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-Heqmc6Jh.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/browser_dialer.html-pBajOlNq.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/env.html-cjIQiZYK.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallback.html-1JIS-sqn.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/multiple.html-g48N6K0K.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/xtls.html-B_w95T3t.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dokodemo.html-jpQVDK5E.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/http.html-kcI8nPMj.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/shadowsocks.html-RfXFYESa.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/socks.html-s5-aPzb4.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/trojan.html-1a6tGxlx.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-8KqB5qGc.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-YK_H6TQs.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/blackhole.html-KHhjSI5O.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dns.html-gJ4v9Hez.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/freedom.html-5TuP3wkh.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/http.html-ODrut9n2.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/loopback.html-3eDn6aWh.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/shadowsocks.html-coJ5pBTn.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/socks.html-y40g6uI5.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/trojan.html-yXVZG2Ev.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-qqj9e8Vf.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-Vr1rc_Up.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/wireguard.html-KdrqTCQm.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/domainsocket.html-wdK_rHZQ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/grpc.html-Wb5nYKLk.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/h2.html-KM70GQbw.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/mkcp.html-0Xk_HIpn.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/quic.html-m95M53yN.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tcp.html-jnCC9tdJ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/websocket.html-nRcuDtOv.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/compile.html-X6FgGIuq.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/design.html--gTpLkem.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/guide.html-9aEFcVqM.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/mkcp.html-vo5PDXHA.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/muxcool.html-nTSzbowY.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-qQ4zG4ni.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-VN98TXTo.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-SzZckNsL.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch01-preface.html-tEScEaZz.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch02-preparation.html-RGVVF1aX.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch03-ssh.html-r0_Dxdy0.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch04-security.html-fTS70_mi.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch05-webpage.html-gZKQsz1W.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch06-certificates.html-S8wDl_Ux.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch07-xray-server.html-XceTyVhx.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch08-xray-clients.html-ud6w1qRW.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch09-appendix.html-sabgEttE.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-mMCfrUS-.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallbacks-lv1.html-77y0K8ky.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallbacks-with-sni.html-qQOZMYA7.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/routing-lv1-part1.html-cRNm4oEK.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/routing-lv1-part2.html-5XUPXSEg.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/work.html-145CR_fW.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-BFn1lRAW.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/iptables_gid.html-BjKdQK_Z.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/nginx_or_haproxy_tls_tunnel.html-_NqxTVZn.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/redirect.html-ErNGzo9V.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tproxy.html-y5eAJ7SY.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tproxy_ipv4_and_ipv6.html-JH4YyNOP.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/traffic_stats.html-_cNOE5xN.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/warp.html-pHOxYcxO.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/news.html-gzJt0vYA.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-BW2P-KWr.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/api.html-ehTB5jsP.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dns.html-rP5naxFq.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fakedns.html-WRT-9j2m.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/inbound.html-Mx2-iGW_.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/log.html-p-vXJqMl.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/outbound.html-rUxUkwF-.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/policy.html-0ggCjnWf.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/reverse.html-Vyc-TBL8.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/stats.html-f0XRSzHJ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/transport.html-1uWwcyFO.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-JeZuqWwp.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-PAgbBg-Z.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/command.html-5rSGvvaL.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/config.html-5ZOPemlE.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/document.html-7QxaDrrB.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/install.html-bu0Ticvf.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/transparent_proxy.html-ocawHfnS.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/browser_dialer.html-G4IRQ_Kg.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/env.html-vTGLOPHC.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallback.html-c3nG_SbK.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/multiple.html-broKJH6Q.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/xtls.html-VGwDVgWQ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dokodemo.html-lQ2ZCHA0.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/http.html-qlBUGI3d.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/shadowsocks.html-KKd7sD5W.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/socks.html-Rr3Pd7Z4.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/trojan.html-JtWYvOGZ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-FmnaDhwB.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-DQRQNJRf.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/blackhole.html-wP8aOe1s.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dns.html-fsBpY6OJ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/freedom.html-pEcHOOJi.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/http.html-ycpGlUVn.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/loopback.html-ek6rG2JU.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/shadowsocks.html-DUgYYNSE.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/socks.html-4LNnnGuU.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/trojan.html-zPYE2Rnw.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-oJkCcWqP.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-FLYSgYZF.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/wireguard.html-BNOcORO_.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/domainsocket.html-XJDOFjPR.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/grpc.html--7XYo6-r.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/h2.html-an3IPz3A.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/mkcp.html-KaKSugGP.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/quic.html-tQfatAaD.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tcp.html-D0BFi51s.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/websocket.html-r_JlAPKl.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/compile.html-v0FcVQeh.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/design.html-mn37DqeY.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/guide.html-uQWUSL0p.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/mkcp.html-uyvLxsmR.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/muxcool.html-dKJnlJKP.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-oFhH_CKR.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-tRW4iV5D.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-epCgXVFP.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch01-preface.html-EhjqE-xm.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch02-preparation.html-vmCsE7AE.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch03-ssh.html-7SR0w9_k.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch04-security.html-AXaKPt5U.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch05-webpage.html-sRW5SJR3.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch06-certificates.html-nx5r2spW.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch07-xray-server.html-d6fAFDtx.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch08-xray-clients.html--7VTUdFB.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch09-appendix.html-ocawR_gn.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-9tqrbw4-.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallbacks-lv1.html-Ue5QjCC2.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallbacks-with-sni.html-L4x-DI-J.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/routing-lv1-part1.html-uWcVLGTr.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/routing-lv1-part2.html-77qV5nP4.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/work.html-DIaUDWrM.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-cIJu68wk.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/iptables_gid.html-chRdnVmo.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/nginx_tls_tunnel.html-2RYZEsVD.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/redirect.html-FhWJ2sky.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tproxy.html-ad4fKtf9.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tproxy_ipv4_and_ipv6.html-kIWOgIT3.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/traffic_stats.html-o6SE99UZ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/warp.html-4hKe1jqm.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/transparent_proxy.html-LpjOlZS3.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/404.html-r6aI8Oiv.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-y0z4EgJF.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/news.html-Df1lONEL.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-5AZvNbY8.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/api.html-cODcxTzS.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dns.html-QkJJx-wI.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fakedns.html-Re5kxvCz.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/inbound.html-eq9nq7jK.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/log.html-TDBx2hYb.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/metrics.html-bFBuS_Fh.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/outbound.html-4MyrTZhi.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/policy.html-3T5wMF0x.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/reverse.html-JxJp4uPN.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/routing.html-RBH1Oufv.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/stats.html-PFIkyfAq.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/transport.html-4RfqMHiI.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-lPo-_aH7.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-PkT-dRGi.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/command.html-iFRhGWnZ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/config.html-1Xjswkt_.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/document.html-41sRNwfy.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/install.html-wag6DczN.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-JQaCIXsI.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/browser_dialer.html-mCgw2mhn.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/env.html-UvwLEgI8.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallback.html-32wHvSvI.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/multiple.html-vG2puh1J.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/xtls.html-65VP8Otm.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dokodemo.html-uCCqzWDq.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/http.html-4OYVqC5E.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/shadowsocks.html-90ykfNXI.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/socks.html-lauISQ9M.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/trojan.html-09V-kDEt.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-oTL1h2Vb.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-C9imSEKc.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/blackhole.html-vJQjh3Oi.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dns.html-wnltlvL1.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/freedom.html-yCebJzdi.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/http.html-81pzLQnt.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/loopback.html-HRABfEqC.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/shadowsocks.html-Mw1eFuHn.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/socks.html-Cp_hIndy.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/trojan.html-SHvpUOLQ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-HJl7Jgfy.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-JaP3ZVUG.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/wireguard.html-lH7OfUDG.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/domainsocket.html-DjZ9Kd7p.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/grpc.html-sGas0f9r.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/h2.html-JHtDpxFD.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/mkcp.html-AhgSUZM9.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/quic.html-EnOIoQsF.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tcp.html-jxqXzjaZ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/websocket.html-Au6CZ_47.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/compile.html-qG5oeOxs.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/design.html-k66tc_kW.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/guide.html-psJAX_RQ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/mkcp.html-XxnmCW39.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/muxcool.html-l3tErch_.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-kQap6Ju1.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-u8uv3-1T.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-j2jwuQle.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch01-preface.html-MrSnXfZP.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch02-preparation.html-U75D9jTU.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch03-ssh.html-g2zsk6VM.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch04-security.html-1u4N4WMf.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch05-webpage.html-eUHa9Th9.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch06-certificates.html-JdLoUOTP.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch07-xray-server.html-q9bpY8MX.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch08-xray-clients.html-jlKr3qHR.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch09-appendix.html-OCSfNjVP.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-zaVxBbM8.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallbacks-lv1.html-4_YyqxaZ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallbacks-with-sni.html-nKftjiTh.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/routing-lv1-part1.html-_5HQ68ct.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/routing-lv1-part2.html-N-xjxJxI.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/work.html-QUcP2gpq.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-cR9QbjkQ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/iptables_gid.html-n2boO9Gc.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/nginx_or_haproxy_tls_tunnel.html-R--Gifhk.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/redirect.html-WeXBR0Bz.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tproxy.html-w10zpMYg.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tproxy_ipv4_and_ipv6.html-p2ThPTNg.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/traffic_stats.html-QvbaYGWF.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/warp.html-HRn55Qf6.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/news.html-iNj_oGZW.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-MMISq_mV.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/api.html-QpEUzkdh.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dns.html-qc8g2seY.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fakedns.html-9K2YtFo1.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/inbound.html--va43UiY.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/log.html-x4Jh5_P_.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/outbound.html-SAdI1koA.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/policy.html-J6CrfS6a.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/reverse.html-pa_bGQdR.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/stats.html-StsB0iMG.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/transport.html-LSgc8Ifg.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-faHPpk-2.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-l_iiQy2O.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/command.html-boymBAkI.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/config.html--u8bYP7B.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/document.html-LzFoOz1O.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/install.html-p_EBiqk8.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/transparent_proxy.html-W5trC6or.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/browser_dialer.html-dda-dzQF.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/env.html-WVD8EptW.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallback.html-Z8DhfUe_.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/multiple.html-8OlmUTae.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/xtls.html-YstGAGoc.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dokodemo.html-B_JiiDSs.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/http.html-XQUd8iZW.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/shadowsocks.html-NfIwnJLa.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/socks.html-SNRE_89a.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/trojan.html-9ne-zAKY.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-SawwPUnn.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-g6JyHkI4.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/blackhole.html-RJugpCkH.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/dns.html--hEnBMdO.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/freedom.html-q8Y9ZT_R.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/http.html-YxJ0uRWI.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/loopback.html-yxf5nf_U.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/shadowsocks.html-c0TfPGJA.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/socks.html-W4uR62rW.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/trojan.html-mn4V2nTF.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-C50aVyjh.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-qBgjrpDG.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/wireguard.html-sv2DkBVL.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/domainsocket.html-ihzZujIw.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/grpc.html-otWYUGhH.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/h2.html-y_5vR9rZ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/mkcp.html-BU6ci7F0.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/quic.html-GkFcRgTO.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tcp.html-WdE2jnCE.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/websocket.html-iFKj4OK9.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/compile.html-6fhYoEQL.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/design.html-50DSprmQ.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/guide.html-GRS3F8lC.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/mkcp.html-uf_dkx3c.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/muxcool.html-gLRPBHek.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vless.html-6wInQE9_.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/vmess.html-qI1hkOPa.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-BeyfT3PT.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch01-preface.html-eHLSf71y.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch02-preparation.html-0znIH1SA.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch03-ssh.html-8SE2yW4u.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch04-security.html-iw2tT3ca.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch05-webpage.html-mLgxNTuY.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch06-certificates.html-YwxccwSK.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch07-xray-server.html-P3lzfF4z.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch08-xray-clients.html-2e7_jNKb.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/ch09-appendix.html-GxRSDhCY.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-T3PQTkSC.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallbacks-lv1.html-IhVe_Uww.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/fallbacks-with-sni.html-cBxjDrYY.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/routing-lv1-part1.html-SwkIsiJi.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/routing-lv1-part2.html-ZZuR5srl.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/work.html-Quk5300u.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/index.html-kdfqfTFb.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/iptables_gid.html-oyQGqptt.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/nginx_tls_tunnel.html-A_omky4W.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/redirect.html-ExNv5H6h.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tproxy.html-RTsRHuMz.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/tproxy_ipv4_and_ipv6.html-HLdhwras.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/traffic_stats.html-oVpiFX02.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/warp.html-Lgx2gH0y.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/transparent_proxy.html-7p5P8Ls3.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/404.html-7qFP7QCu.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/Mermaid-_Gs3kqhO.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/Tab-FQFSQpWV.js" as="script"><link rel="prefetch" href="/Xray-docs-next/assets/Tabs-U9V0KKxb.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle side bar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/Xray-docs-next/en/" class=""><!----><span class="site-name" aria-hidden="true">Project X</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a href="/Xray-docs-next/en" class="router-link-active" aria-label="Homepage"><!--[--><!--]--> Homepage <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Xray-docs-next/en/about/news.md" class="" aria-label="Website History"><!--[--><!--]--> Website History <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Xray-docs-next/en/config/" class="router-link-active" aria-label="Config Reference"><!--[--><!--]--> Config Reference <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Xray-docs-next/en/development/" class="" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Xray-docs-next/en/document/" class="" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Multiple language"><span class="title">Multiple language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Multiple language"><span class="title">Multiple language</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Xray-docs-next/config/routing.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/Xray-docs-next/en/config/routing.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English (WIP)"><!--[--><!--]--> English (WIP) <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/xtls/xray-core" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a href="/Xray-docs-next/en" class="router-link-active" aria-label="Homepage"><!--[--><!--]--> Homepage <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Xray-docs-next/en/about/news.md" class="" aria-label="Website History"><!--[--><!--]--> Website History <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Xray-docs-next/en/config/" class="router-link-active" aria-label="Config Reference"><!--[--><!--]--> Config Reference <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Xray-docs-next/en/development/" class="" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Xray-docs-next/en/document/" class="" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Multiple language"><span class="title">Multiple language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Multiple language"><span class="title">Multiple language</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Xray-docs-next/config/routing.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/Xray-docs-next/en/config/routing.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English (WIP)"><!--[--><!--]--> English (WIP) <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/xtls/xray-core" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">feature <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Xray-docs-next/en/config/features/xtls.html" class="sidebar-item" aria-label="Deep analysis of XTLS"><!--[--><!--]--> Deep analysis of XTLS <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/features/fallback.html" class="sidebar-item" aria-label="Fallback"><!--[--><!--]--> Fallback <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/features/browser_dialer.html" class="sidebar-item" aria-label="Browser Dialer"><!--[--><!--]--> Browser Dialer <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/features/env.html" class="sidebar-item" aria-label="Environment Variables"><!--[--><!--]--> Environment Variables <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/features/multiple.html" class="sidebar-item" aria-label="Multi-file configuration"><!--[--><!--]--> Multi-file configuration <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">config <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Xray-docs-next/en/config/" class="router-link-active sidebar-item" aria-label="Configurations"><!--[--><!--]--> Configurations <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/log.html" class="sidebar-item" aria-label="Log Configuration"><!--[--><!--]--> Log Configuration <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/api.html" class="sidebar-item" aria-label="API Interface"><!--[--><!--]--> API Interface <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/dns.html" class="sidebar-item" aria-label="Built-in DNS Server"><!--[--><!--]--> Built-in DNS Server <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/fakedns.html" class="sidebar-item" aria-label="FakeDNS"><!--[--><!--]--> FakeDNS <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/inbound.html" class="sidebar-item" aria-label="Inbound Proxy"><!--[--><!--]--> Inbound Proxy <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/outbound.html" class="sidebar-item" aria-label="Outbound Proxies"><!--[--><!--]--> Outbound Proxies <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/policy.html" class="sidebar-item" aria-label="Local Policy"><!--[--><!--]--> Local Policy <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/reverse.html" class="sidebar-item" aria-label="Reverse Proxy"><!--[--><!--]--> Reverse Proxy <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Xray-docs-next/en/config/routing.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Routing"><!--[--><!--]--> Routing <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Xray-docs-next/en/config/routing.html#routingobject" class="router-link-active router-link-exact-active sidebar-item" aria-label="RoutingObject"><!--[--><!--]--> RoutingObject <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Xray-docs-next/en/config/routing.html#ruleobject" class="router-link-active router-link-exact-active sidebar-item" aria-label="RuleObject"><!--[--><!--]--> RuleObject <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Xray-docs-next/en/config/routing.html#balancerobject" class="router-link-active router-link-exact-active sidebar-item" aria-label="BalancerObject"><!--[--><!--]--> BalancerObject <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Xray-docs-next/en/config/routing.html#predefined-domain-lists" class="router-link-active router-link-exact-active sidebar-item" aria-label="Predefined Domain Lists"><!--[--><!--]--> Predefined Domain Lists <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/Xray-docs-next/en/config/stats.html" class="sidebar-item" aria-label="Traffic Statistics"><!--[--><!--]--> Traffic Statistics <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/transport.html" class="sidebar-item" aria-label="Transport Protocol"><!--[--><!--]--> Transport Protocol <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/metrics.md" class="sidebar-item" aria-label="/en/config/metrics.md"><!--[--><!--]--> /en/config/metrics.md <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">inbound <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Xray-docs-next/en/config/inbounds/dokodemo.html" class="sidebar-item" aria-label="Dokodemo-Door"><!--[--><!--]--> Dokodemo-Door <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/inbounds/http.html" class="sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/inbounds/shadowsocks.html" class="sidebar-item" aria-label="Shadowsocks"><!--[--><!--]--> Shadowsocks <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/inbounds/socks.html" class="sidebar-item" aria-label="SOCKS"><!--[--><!--]--> SOCKS <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/inbounds/trojan.html" class="sidebar-item" aria-label="Trojan"><!--[--><!--]--> Trojan <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/inbounds/vless.html" class="sidebar-item" aria-label="VLESS"><!--[--><!--]--> VLESS <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/inbounds/vmess.html" class="sidebar-item" aria-label="VMess"><!--[--><!--]--> VMess <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">outbound <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Xray-docs-next/en/config/outbounds/blackhole.html" class="sidebar-item" aria-label="Blackhole"><!--[--><!--]--> Blackhole <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/outbounds/dns.html" class="sidebar-item" aria-label="DNS"><!--[--><!--]--> DNS <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/outbounds/freedom.html" class="sidebar-item" aria-label="Freedom"><!--[--><!--]--> Freedom <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/outbounds/http.html" class="sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/outbounds/loopback.html" class="sidebar-item" aria-label="Loopback"><!--[--><!--]--> Loopback <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/outbounds/shadowsocks.html" class="sidebar-item" aria-label="Shadowsocks"><!--[--><!--]--> Shadowsocks <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/outbounds/socks.html" class="sidebar-item" aria-label="Socks"><!--[--><!--]--> Socks <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/outbounds/trojan.html" class="sidebar-item" aria-label="Trojan"><!--[--><!--]--> Trojan <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/outbounds/vless.html" class="sidebar-item" aria-label="VLESS"><!--[--><!--]--> VLESS <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/outbounds/vmess.html" class="sidebar-item" aria-label="VMess"><!--[--><!--]--> VMess <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/outbounds/wireguard.html" class="sidebar-item" aria-label="Wireguard"><!--[--><!--]--> Wireguard <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">transport <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Xray-docs-next/en/config/transports/domainsocket.html" class="sidebar-item" aria-label="Domain Socket"><!--[--><!--]--> Domain Socket <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/transports/grpc.html" class="sidebar-item" aria-label="gRPC"><!--[--><!--]--> gRPC <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/transports/h2.html" class="sidebar-item" aria-label="HTTP/2"><!--[--><!--]--> HTTP/2 <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/transports/mkcp.html" class="sidebar-item" aria-label="mKCP"><!--[--><!--]--> mKCP <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/transports/quic.html" class="sidebar-item" aria-label="QUIC"><!--[--><!--]--> QUIC <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/transports/tcp.html" class="sidebar-item" aria-label="TCP"><!--[--><!--]--> TCP <!--[--><!--]--></a><!----></li><li><a href="/Xray-docs-next/en/config/transports/websocket.html" class="sidebar-item" aria-label="WebSocket"><!--[--><!--]--> WebSocket <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="routing" tabindex="-1"><a class="header-anchor" href="#routing"><span>Routing</span></a></h1><p>The routing module can send inbound data through different outbound connections according to different rules to achieve on-demand proxying.</p><p>A common use case is to split domestic and foreign traffic. Xray can use its internal mechanisms to determine the traffic from different regions and then send them to different outbound proxies.</p><p>For a more detailed analysis of the routing function, please refer to <a href="https://xtls.github.io/document/level-1/routing-lv1-part1.html" target="_blank" rel="noopener noreferrer">Routing Function Analysis<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span></a>.</p><h2 id="routingobject" tabindex="-1"><a class="header-anchor" href="#routingobject"><span>RoutingObject</span></a></h2><p><code>RoutingObject</code> corresponds to the <code>routing</code> item in the configuration file.</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;routing&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;domainStrategy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AsIs&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;domainMatcher&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hybrid&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;balancers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>domainStrategy</code>: &quot;AsIs&quot; | &quot;IPIfNonMatch&quot; | &quot;IPOnDemand&quot;</p></blockquote><p>The domain name resolution strategy, which uses different strategies based on different settings.</p><ul><li><p><code>&quot;AsIs&quot;</code>: Use only the domain name for routing selection. Default value.</p></li><li><p><code>&quot;IPIfNonMatch&quot;</code>: If the domain name does not match any rule, resolve the domain name into an IP address (A record or AAAA record) and match it again;</p><ul><li>When a domain name has multiple A records, it will try to match all A records until one of them matches a rule;</li><li>The resolved IP only works for routing selection, and the original domain name is still used in the forwarded packets;</li></ul></li><li><p><code>&quot;IPOnDemand&quot;</code>: If any IP-based rules are encountered during matching, immediately resolve the domain name into an IP address for matching;</p></li></ul><blockquote><p><code>domainMatcher</code>: &quot;hybrid&quot; | &quot;linear&quot;</p></blockquote><p>The domain name matching algorithm, which uses different algorithms based on different settings. This option affects all <code>RuleObject</code> that do not have a separately specified matching algorithm.</p><ul><li><code>&quot;hybrid&quot;</code>: Use the new domain name matching algorithm, which is faster and takes up less space. Default value.</li><li><code>&quot;linear&quot;</code>: Use the original domain name matching algorithm.</li></ul><blockquote><p><code>rules</code>: [<a href="#ruleobject">RuleObject</a>]</p></blockquote><p>An array corresponding to a list of rules.</p><p>For each connection, the routing will judge these rules from top to bottom in order. When it encounters the first effective rule, it will forward the connection to the <code>outboundTag</code> or <code>balancerTag</code> specified by the rule.</p><div class="custom-container tip"><p class="custom-container-title">Tip</p><p>When no rules match, the traffic is sent out by the first outbound by default.</p></div><blockquote><p><code>balancers</code>: [ <a href="#balancerobject">BalancerObject</a> ]</p></blockquote><p>An array corresponding to a list of load balancers.</p><p>When a rule points to a load balancer, Xray selects an outbound through this load balancer, and then it forwards the traffic through it.</p><h3 id="ruleobject" tabindex="-1"><a class="header-anchor" href="#ruleobject"><span>RuleObject</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;domainMatcher&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hybrid&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;field&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;domain&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;baidu.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;geosite:cn&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ip&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;0.0.0.0/8&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;10.0.0.0/8&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;fc00::/7&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;fe80::/10&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;geoip:cn&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token string">&quot;53,443,1000-2000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sourcePort&quot;</span><span class="token operator">:</span> <span class="token string">&quot;53,443,1000-2000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;network&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tcp&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;10.0.0.1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;love@xray.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;inboundTag&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;tag-vmess&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tls&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bittorrent&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;attrs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;:method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;outboundTag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;direct&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;balancerTag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;balancer&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container danger"><p class="custom-container-title">Danger</p><p>When multiple attributes are specified at the same time, these attributes need to be satisfied <strong>simultaneously</strong> in order for the current rule to take effect.</p></div><blockquote><p><code>domainMatcher</code>: &quot;hybrid&quot; | &quot;linear&quot;</p></blockquote><p>The domain matching algorithm used varies depending on the settings. The option here takes priority over the <code>domainMatcher</code> configured in <code>RoutingObject</code>.</p><ul><li><code>&quot;hybrid&quot;</code>: uses a new domain matching algorithm that is faster and takes up less space. This is the default value.</li><li><code>&quot;linear&quot;</code>: uses the original domain matching algorithm.</li></ul><blockquote><p><code>type</code>: &quot;field&quot;</p></blockquote><p>Currently, only the option <code>&quot;field&quot;</code> is supported.</p><blockquote><p><code>domain</code>: [string]</p></blockquote><p>An array where each item is a domain match. There are several forms:</p><ul><li>Plain string: If this string matches any part of the target domain, the rule takes effect. For example, &quot;sina.com&quot; can match &quot;sina.com&quot;, &quot;sina.com.cn&quot;, and &quot;www.sina.com&quot;, but not &quot;sina.cn&quot;.</li><li>Regular expression: Starts with <code>&quot;regexp:&quot;</code> followed by a regular expression. When this regular expression matches the target domain, the rule takes effect. For example, &quot;regexp:\\.goo.*\\.com$&quot; matches &quot;www.google.com&quot; or &quot;fonts.googleapis.com&quot;, but not &quot;google.com&quot;.</li><li>Subdomain (recommended): Starts with <code>&quot;domain:&quot;</code> followed by a domain. When this domain is the target domain or a subdomain of the target domain, the rule takes effect. For example, &quot;domain:xray.com&quot; matches &quot;www.xray.com&quot; and &quot;xray.com&quot;, but not &quot;wxray.com&quot;.</li><li>Exact match: Starts with <code>&quot;full:&quot;</code> followed by a domain. When this domain is an exact match for the target domain, the rule takes effect. For example, &quot;full:xray.com&quot; matches &quot;xray.com&quot; but not &quot;www.xray.com&quot;.</li><li>Predefined domain list: Starts with <code>&quot;geosite:&quot;</code> followed by a name such as <code>geosite:google</code> or <code>geosite:cn</code>. The names and domain lists are listed in <a href="#predefined-domain-list">Predefined Domain List</a>.</li><li>Load domains from a file: Formatted as <code>&quot;ext:file:tag&quot;</code>, where the file is stored in the <a href="/Xray-docs-next/en/config/features/env.html#resource-file-path" class="">resource directory</a> and has the same format as <code>geosite.dat</code>. The tag must exist in the file.</li></ul><div class="custom-container tip"><p class="custom-container-title">Tip</p><p><code>&quot;ext:geoip.dat:cn&quot;</code> is equivalent to <code>&quot;geoip:cn&quot;</code></p></div><p><code>ip</code>: [string]</p><p>An array where each item represents an IP range. This rule will take effect when the target IP matches any of the IP ranges in the array. There are several types of IP ranges:</p><ul><li><p>IP: In the format of <code>&quot;127.0.0.1&quot;</code>.</p></li><li><p><a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing" target="_blank" rel="noopener noreferrer">CIDR<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span></a>: In the format of <code>&quot;10.0.0.0/8&quot;</code>.</p></li><li><p>Predefined IP lists: These lists are included in every Xray installation package under the file name <code>geoip.dat</code>. They can be used in the format of <code>&quot;geoip:cn&quot;</code>, where <code>cn</code> is a two-letter country code. The prefix <code>geoip:</code>(all lowercase) must be used, and nearly all countries that have internet access are supported.</p><ul><li>Special value: <code>&quot;geoip:private&quot;</code>, which includes all private addresses, such as <code>127.0.0.1</code>.</li></ul></li><li><p>Loading IP from a file: In the format of <code>&quot;ext:file:tag&quot;</code>, where <code>file</code> is the file name and <code>tag</code> is a label that must exist in the file. The prefix <code>ext:</code> (all lowercase) must be used, and the file should be located in the <a href="/Xray-docs-next/en/config/features/env.html#resource-file-path" class="">resource directory</a> with the same format as <code>geoip.dat</code>.</p></li></ul><blockquote><p><code>port</code>: number | string</p></blockquote><p>The target port range, which can take on three forms:</p><ul><li><code>&quot;a-b&quot;</code>: <code>a</code> and <code>b</code> are both positive integers less than 65536. This range is a closed interval, and this rule will take effect when the target port falls within this range.</li><li><code>a</code>: <code>a</code> is a positive integer less than 65536. This rule will take effect when the target port is <code>a</code>.</li><li>A mixture of the above two forms, separated by commas &quot;,&quot;. For example: <code>&quot;53,443,1000-2000&quot;</code>.</li></ul><blockquote><p><code>sourcePort</code>: number | string</p></blockquote><p>The source port, which can take on three forms:</p><ul><li><code>&quot;a-b&quot;</code>: <code>a</code> and <code>b</code> are both positive integers less than 65536. This range is a closed interval, and this rule will take effect when the source port falls within this range.</li><li><code>a</code>: <code>a</code> is a positive integer less than 65536. This rule will take effect when the source port is <code>a</code>.</li><li>A mixture of the above two forms, separated by commas &quot;,&quot;. For example: <code>&quot;53,443,1000-2000&quot;</code>.</li></ul><blockquote><p><code>network</code>: &quot;tcp&quot; | &quot;udp&quot; | &quot;tcp,udp&quot;</p></blockquote><p>This can be &quot;tcp&quot;, &quot;udp&quot;, or &quot;tcp,udp&quot;. This rule will take effect when the connection method is the specified one.</p><blockquote><p><code>source</code>: [string]</p></blockquote><p>An array where each item represents an IP range in the format of IP, CIDR, GeoIP, or loading IP from a file. This rule will take effect when the source IP matches any of the IP ranges in the array.</p><blockquote><p><code>user</code>: [string]</p></blockquote><p>An array where each item represents an email address. This rule will take effect when the source user matches any of the email addresses in the array.</p><blockquote><p><code>inboundTag</code>: [string]</p></blockquote><p>An array where each item represents an identifier. This rule will take effect when the inbound protocol matches any of the identifiers in the array.</p><blockquote><p><code>protocol</code>: [ &quot;http&quot; | &quot;tls&quot; | &quot;bittorrent&quot; ]</p></blockquote><p>An array where each item represents a protocol. This rule will take effect when the protocol of the current connection matches any of the protocols in the array.</p><div class="custom-container tip"><p class="custom-container-title">Tip</p><p>The <code>sniffing</code> option in the inbound proxy must be enabled to detect the protocol type used by the connection.</p></div><p><code>attrs</code>: object</p><p>A json object with string keys and values, used to detect the HTTP headers of the traffic. It matches when all specified keys exist in the header and corresponding values are a substring of the header value. The key is case in-sensitive. You can use regex to match with value.</p><p>Currently, only the inbound HTTP proxy sets this attribute.</p><p>Examples:</p><ul><li>Detect HTTP GET：<code>{&quot;:method&quot;: &quot;GET&quot;}</code></li><li>Detect HTTP Path：<code>{&quot;:path&quot;: &quot;/test&quot;}&quot;</code></li><li>Detect Content Type：<code>{&quot;accept&quot;: &quot;text/html&quot;}&quot;</code></li></ul><blockquote><p><code>outboundTag</code>: string</p></blockquote><p>Corresponds to the identifier of an outbound.</p><blockquote><p><code>balancerTag</code>: string</p></blockquote><p>Corresponds to the identifier of a balancer.</p><div class="custom-container tip"><p class="custom-container-title">Tip</p><p><code>balancerTag</code> and <code>outboundTag</code> are mutually exclusive. When both are specified, <code>outboundTag</code> takes effect.</p></div><h3 id="balancerobject" tabindex="-1"><a class="header-anchor" href="#balancerobject"><span>BalancerObject</span></a></h3><p>Load balancer configuration. When a load balancer is in effect, it selects the most appropriate outbound from the specified outbound according to the configuration and forwards traffic.</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;balancer&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;selector&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>tag</code>: string</p></blockquote><p>The identifier of this load balancer, used to match <code>balancerTag</code> in <code>RuleObject</code>.</p><blockquote><p><code>selector</code>: [ string ]</p></blockquote><p>An array of strings, each of which will be used to match the prefix of the outbound identifier. For example, in the following outbound identifiers: <code>[ &quot;a&quot;, &quot;ab&quot;, &quot;c&quot;, &quot;ba&quot; ]</code>, <code>&quot;selector&quot;: [&quot;a&quot;]</code> will match <code>[ &quot;a&quot;, &quot;ab&quot; ]</code>.</p><p>If multiple outbounds are matched, the load balancer currently selects one randomly as the final outbound.</p><h3 id="predefined-domain-lists" tabindex="-1"><a class="header-anchor" href="#predefined-domain-lists"><span>Predefined Domain Lists</span></a></h3><p>This list is included in every Xray installation package, and the file name is <code>geosite.dat</code>. This file contains some common domain names, which can be used as <code>geosite:filename</code> to perform routing or DNS filtering for domain names that match those in the file.</p><p>Common domain lists include:</p><ul><li><code>category-ads</code>: Contains common advertising domain names.</li><li><code>category-ads-all</code>: Contains common advertising domain names and advertising provider domain names.</li><li><code>cn</code>: Equivalent to the combination of <code>geolocation-cn</code> and <code>tld-cn</code>.</li><li><code>apple</code>: Contains most of the domain names under Apple.</li><li><code>google</code>: Contains most of the domain names under Google.</li><li><code>microsoft</code>: Contains most of the domain names under Microsoft.</li><li><code>facebook</code>: Contains most of the domain names under Facebook.</li><li><code>twitter</code>: Contains most of the domain names under Twitter.</li><li><code>telegram</code>: Contains most of the domain names under Telegram.</li><li><code>geolocation-cn</code>: Contains common domain names of mainland Chinese websites.</li><li><code>geolocation-!cn</code>: Contains common domain names of non-mainland Chinese websites, as well as <code>tld-!cn</code>.</li><li><code>tld-cn</code>: Contains top-level domain names managed by CNNIC for mainland China, such as domain names ending in <code>.cn</code> and <code>.中国</code>.</li><li><code>tld-!cn</code>: Contains top-level domain names used outside mainland China, such as domain names ending in <code>.hk</code> (Hong Kong), <code>.tw</code> (Taiwan), <code>.jp</code> (Japan), <code>.sg</code> (Singapore), <code>.us</code> (United States), and <code>.ca</code> (Canada).</li></ul><p>You can also find the complete list of domain names here: <a href="https://github.com/v2fly/domain-list-community" target="_blank" rel="noopener noreferrer">Domain list community<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span></a>.</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/xtls/Xray-docs-next/edit/main/docs/en/config/routing.md" rel="noopener noreferrer" target="_blank" aria-label="Help us improve this page on GitHub！"><!--[--><!--]--> Help us improve this page on GitHub！ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1588741+yuhan6665@users.noreply.github.com">yuhan6665</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: kobearthurxc@outlook.com">Kobe Arthur Scofield</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 126307318+Winston2084@users.noreply.github.com">Winston2084</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 82594500+hmol233@users.noreply.github.com">hmol233</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav" aria-label="page navigation"><p class="inner"><span class="prev"><a href="/Xray-docs-next/en/config/reverse.html" class="" aria-label="Reverse Proxy"><!--[--><!--]--> Reverse Proxy <!--[--><!--]--></a></span><span class="next"><a href="/Xray-docs-next/en/config/stats.html" class="" aria-label="Traffic Statistics"><!--[--><!--]--> Traffic Statistics <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/Xray-docs-next/assets/app-Y0A88DIy.js" defer></script>
  </body>
</html>
